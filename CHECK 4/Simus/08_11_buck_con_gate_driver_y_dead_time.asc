Version 4
SHEET 1 1256 1540
WIRE 144 -80 144 -144
WIRE 368 -80 144 -80
WIRE -2272 -64 -2272 -160
WIRE 144 -32 144 -80
WIRE -2384 -16 -2400 -16
WIRE -2336 -16 -2384 -16
WIRE 368 -16 368 -80
WIRE -2048 0 -2208 0
WIRE -672 0 -672 -80
WIRE -560 0 -672 0
WIRE -448 0 -496 0
WIRE -368 0 -448 0
WIRE -2384 16 -2384 -16
WIRE -2336 16 -2384 16
WIRE -2752 32 -3408 32
WIRE -2448 32 -2752 32
WIRE -2384 32 -2384 16
WIRE -2384 32 -2448 32
WIRE -368 48 -368 0
WIRE -48 48 -128 48
WIRE 96 48 -48 48
WIRE -944 64 -1424 64
WIRE -768 64 -768 -80
WIRE -672 64 -672 0
WIRE -2272 80 -2272 64
WIRE -1952 80 -1952 0
WIRE -48 80 -48 48
WIRE -3408 128 -3408 32
WIRE -2048 128 -2048 0
WIRE -2016 128 -2048 128
WIRE -944 128 -944 64
WIRE -848 128 -944 128
WIRE -448 128 -448 0
WIRE -448 128 -592 128
WIRE -1424 144 -1424 64
WIRE -1424 144 -1888 144
WIRE -2016 160 -2048 160
WIRE -2752 192 -2752 32
WIRE -464 192 -592 192
WIRE -368 192 -368 112
WIRE -368 192 -464 192
WIRE -48 192 -48 160
WIRE -48 192 -368 192
WIRE 144 192 144 64
WIRE 144 192 -48 192
WIRE 368 192 368 48
WIRE 368 192 144 192
WIRE 688 192 368 192
WIRE 880 192 768 192
WIRE 1024 192 880 192
WIRE -3408 224 -3408 208
WIRE -2304 224 -2304 208
WIRE -2256 224 -2304 224
WIRE -1952 224 -1952 208
WIRE -848 224 -944 224
WIRE -2256 240 -2256 224
WIRE -432 256 -592 256
WIRE -400 256 -432 256
WIRE -368 256 -400 256
WIRE -256 256 -288 256
WIRE -128 256 -128 48
WIRE -128 256 -256 256
WIRE -2320 288 -2352 288
WIRE -2048 304 -2048 160
WIRE -2048 304 -2192 304
WIRE 1024 304 1024 192
WIRE -2752 320 -2752 272
WIRE -2528 320 -2752 320
WIRE -2352 320 -2352 288
WIRE -2352 320 -2528 320
WIRE -2320 320 -2352 320
WIRE -944 320 -944 224
WIRE -944 320 -1424 320
WIRE -848 320 -880 320
WIRE -480 320 -592 320
WIRE 880 320 880 192
WIRE -400 336 -400 256
WIRE -352 336 -400 336
WIRE -256 336 -256 256
WIRE -256 336 -288 336
WIRE 144 352 144 192
WIRE 400 352 144 352
WIRE 144 368 144 352
WIRE 400 384 400 352
WIRE -2256 400 -2256 368
WIRE -880 416 -880 320
WIRE -768 416 -768 384
WIRE -768 416 -880 416
WIRE -720 416 -768 416
WIRE -672 416 -672 384
WIRE -672 416 -720 416
WIRE -2752 432 -2752 320
WIRE -720 448 -720 416
WIRE -384 448 -416 448
WIRE -256 448 -304 448
WIRE -16 448 -256 448
WIRE 96 448 -16 448
WIRE -480 480 -480 320
WIRE -416 480 -416 448
WIRE -416 480 -480 480
WIRE 144 496 144 464
WIRE 400 496 400 448
WIRE 400 496 144 496
WIRE 880 512 880 384
WIRE 1024 512 1024 384
WIRE -416 528 -416 480
WIRE -368 528 -416 528
WIRE -256 528 -256 448
WIRE -256 528 -304 528
WIRE -16 560 -16 448
WIRE -2752 624 -2752 496
WIRE -2288 672 -2288 656
WIRE -2240 672 -2288 672
WIRE -2240 688 -2240 672
WIRE -16 720 -16 640
WIRE 144 720 144 496
WIRE 144 720 -16 720
WIRE -2448 736 -2448 32
WIRE -2304 736 -2448 736
WIRE -1424 752 -1424 320
WIRE -1424 752 -2176 752
WIRE -2528 768 -2528 320
WIRE -2304 768 -2528 768
WIRE 144 816 144 720
WIRE -2240 832 -2240 816
WIRE -1392 1056 -1392 992
WIRE -1232 1056 -1232 992
WIRE -1088 1056 -1088 992
WIRE -1392 1184 -1392 1136
WIRE -1232 1184 -1232 1136
WIRE -1088 1184 -1088 1136
FLAG 880 512 0
FLAG -3408 224 0
FLAG -1392 1184 0
FLAG 1024 512 0
FLAG -720 448 0
FLAG -768 -80 Vdd
FLAG -672 -80 Vcc
FLAG 144 816 0
FLAG 144 -144 Vin
FLAG -1392 992 Vin
FLAG -1232 1184 0
FLAG -1232 992 Vdd
FLAG -1088 1184 0
FLAG -1088 992 Vcc
FLAG -480 480 LO
FLAG -432 256 HO
FLAG -464 192 VS
FLAG -2752 624 0
FLAG -1952 224 0
FLAG -2256 400 0
FLAG -2272 80 0
FLAG -2240 832 0
FLAG -1952 0 Vdd
FLAG -2272 -160 Vdd
FLAG -2304 208 Vdd
FLAG -2288 656 Vdd
SYMBOL ind2 784 176 R90
WINDOW 0 4 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName L1
SYMATTR Value 330µ
SYMATTR Type ind
SYMBOL cap 864 320 R0
SYMATTR InstName C1
SYMATTR Value 4.7µ
SYMBOL voltage -1392 1040 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName Vin
SYMATTR Value {Vin}
SYMBOL voltage -3408 112 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName PWM1
SYMATTR Value PULSE(0 6 0 0.1n 0.1n {Ts * D} {Ts})
SYMBOL res 1008 288 R0
SYMATTR InstName R1
SYMATTR Value 100
SYMBOL nmos 96 -32 R0
SYMATTR InstName M1
SYMATTR Value irfz44n
SYMBOL nmos 96 368 R0
SYMATTR InstName M2
SYMATTR Value irfz44n
SYMBOL ir2110 -784 176 R0
WINDOW 0 0 0 Invisible 0
WINDOW 3 63 43 Top 2
SYMATTR InstName X1
SYMATTR SpiceModel ir2110
SYMBOL voltage -1232 1040 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName Vdd
SYMATTR Value 6
SYMBOL voltage -1088 1040 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName Vin2
SYMATTR Value 10
SYMBOL schottky -560 16 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMATTR Value 1N5819
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL cap -384 48 R0
SYMATTR InstName C2
SYMATTR Value 1µ
SYMBOL CD74HC02 -2288 0 R0
SYMATTR InstName U1
SYMBOL CD74HC02 -2272 304 R0
SYMATTR InstName U2
SYMBOL CD74HC02 -1968 144 R0
SYMATTR InstName U3
SYMBOL CD74HC02 -2256 752 R0
SYMATTR InstName U4
SYMBOL res -2768 176 R0
SYMATTR InstName R2
SYMATTR Value 1k
SYMBOL cap -2768 432 R0
SYMATTR InstName C3
SYMATTR Value 1n
SYMBOL res -32 544 R0
SYMATTR InstName R3
SYMATTR Value 22k
SYMBOL res -64 64 R0
SYMATTR InstName R4
SYMATTR Value 22k
SYMBOL schottky 416 448 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMATTR Value 1N5819
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL schottky 384 48 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D3
SYMATTR Value 1N5819
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL res -272 240 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 10
SYMBOL schottky -288 320 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D4
SYMATTR Value 1N5819
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL res -288 432 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 10
SYMBOL schottky -304 512 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D5
SYMATTR Value 1N5819
SYMATTR Description Diode
SYMATTR Type diode
TEXT -640 800 Left 2 !.param fs=200k\n.param Ts=1/fs
TEXT -880 800 Left 2 !.param D {6.35/Vin}
TEXT -880 776 Left 2 !.param Vin 24
TEXT -880 848 Left 2 !.tran {1000*Ts}
TEXT -872 720 Left 2 !.include irfz44n.spi
TEXT -872 744 Left 2 !.include ir2110.lib
TEXT -880 912 Left 2 !.options reltol=0.003
